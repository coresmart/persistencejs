/**
 * @license
 * Copyright (c) 2010 Zef Hemel <zef@zef.me>
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

var persistence=window.persistence||{};
(function(){var g=null;var b={};var o={};var j={};persistence.trackedObjects=o;persistence.getMeta=function(v){return b[v]};persistence.connect=function(y,x,w,v){persistence._conn=persistence.db.connect(y,x,w,v);if(!persistence._conn){throw {type:"NoSupportedDatabaseFound",message:"No supported database found in this browser."}}};persistence.transaction=function(v){if(!persistence._conn){throw"No ongoing database connection, please connect first."}else{persistence._conn.transaction(v)}};persistence.define=function(w,v){if(b[w]){return i(w)}var x={name:w,fields:v,hasMany:{},hasOne:{}};b[w]=x;return i(w)};var f={};persistence.schemaSync=function(B){var x=[],D,y,w,A;for(var z in b){if(b.hasOwnProperty(z)){D=b[z];y="";for(var v in D.fields){if(D.fields.hasOwnProperty(v)){y+="`"+v+"` "+D.fields[v]+", "}}for(var C in D.hasOne){if(D.hasOne.hasOwnProperty(C)){w=D.hasOne[C].type.meta;y+=C+" VARCHAR(255), ";x.push(["CREATE INDEX IF NOT EXISTS `"+D.name+"_"+C+"_"+w.name+"` ON `"+D.name+"` (`"+C+"`)",null])}}for(var C in D.hasMany){if(D.hasMany.hasOwnProperty(C)&&D.hasMany[C].manyToMany){A=D.hasMany[C].tableName;if(!f[A]){var w=D.hasMany[C].type.meta;x.push(["CREATE INDEX IF NOT EXISTS `"+A+"_"+D.name+"_"+C+"` ON `"+A+"` (`"+D.name+"_"+C+"`)",null]);x.push(["CREATE INDEX IF NOT EXISTS `"+A+"_"+w.name+"_"+D.hasMany[C].inverseProperty+"` ON `"+A+"` (`"+w.name+"_"+D.hasMany[C].inverseProperty+"`)",null]);x.push(["CREATE TABLE IF NOT EXISTS `"+A+"` (`"+D.name+"_"+C+"` VARCHAR(32), `"+w.name+"_"+D.hasMany[C].inverseProperty+"` VARCHAR(32))",null]);f[A]=true}}}y=y.substring(0,y.length-2);f[D.name]=true;x.push(["CREATE TABLE IF NOT EXISTS `"+D.name+"` ( id VARCHAR(32) PRIMARY KEY, "+y+")",null])}}persistence.transaction(function(E){h(E,x,B,E)})};persistence.add=function(v){if(!o[v.id]){o[v.id]=v}};persistence.remove=function(v){if(!j[v.id]){j[v.id]=v}};persistence.flush=function(v,C){if(!v){persistence.transaction(function(D){persistence.flush(D,C)});return}var A=[];for(var B in o){if(o.hasOwnProperty(B)){A.push(o[B])}}var x=[];for(var B in j){if(j.hasOwnProperty(B)){x.push(j[B]);delete o[B]}}j={};if(C){function w(){var D=x.pop();u(D,v,function(){if(x.length>0){w()}else{if(C){C()}}})}function z(){var D=A.pop();r(D,v,function(){if(A.length>0){z()}else{if(x.length>0){w()}else{if(C){C()}}}})}if(A.length>0){z()}else{if(x.length>0){w()}else{if(C){C()}}}}else{for(var y=0;y<A.length;y++){r(A[y],v)}for(var y=0;y<x.length;y++){u(x[y],v)}}};persistence.clean=function(){o={}};persistence.reset=function(v){if(!v){persistence.transaction(function(z){persistence.reset(z)});return}var w=[];for(var x in f){if(f.hasOwnProperty(x)){w.push(x)}}function y(){var z=w.pop();v.executeSql("DROP TABLE "+z,null,function(){if(w.length>0){y()}})}y();persistence.clean();f={}};persistence.rowToEntity=function(v,B,x){x=x||"";if(o[B[x+"id"]]){return o[B[x+"id"]]}var z=b[v];var w=i(v);if(!B[x+"id"]){return null}var A=new w();A.id=B[x+"id"];A._new=false;for(var y in B){if(B.hasOwnProperty(y)){if(y.substring(0,x.length)===x){var C=y.substring(x.length);if(C!="id"){A._data[C]=persistence.dbValToEntityVal(B[y],z.fields[C])}}}}return A};persistence.dbValToEntityVal=function(w,v){switch(v){case"DATE":return new Date(parseInt(w,10)*1000);case"BOOL":return w==1;break;default:return w}};persistence.entityValToDbVal=function(w,v){if(w===undefined||w===null){return null}else{if(w.id){return w.id}else{if(v==="BOOL"){return w?1:0}else{if(v=="DATE"){return Math.round(w.getTime()/1000)}else{return w}}}}};var s={};function i(v){if(s[v]){return s[v]}var w=b[v];function x(C){var z=this;this.id=e();this._new=true;this._type=v;this._dirtyProperties={};this._data={};this._data_obj={};this.subscribers={};for(var B in w.fields){(function(){if(w.fields.hasOwnProperty(B)){var D=B;z.__defineSetter__(D,function(E){z._data[D]=E;z._dirtyProperties[D]=true;z.triggerEvent("set",z,D,E);z.triggerEvent("change",z,D,E)});z.__defineGetter__(D,function(){return z._data[D]});z._data[B]=p(w.fields[B])}}())}for(var y in w.hasOne){if(w.hasOne.hasOwnProperty(y)){(function(){var D=y;z.__defineSetter__(D,function(E){if(E==null){z._data[D]=null;z._data_obj[D]=undefined}else{if(E.id){z._data[D]=E.id;z._data_obj[D]=E;persistence.add(E)}else{z._data[D]=E}}z._dirtyProperties[D]=true;z.triggerEvent("set",z,D,E);z.triggerEvent("change",z,A,E)});z.__defineGetter__(D,function(){if(z._data[D]===null||z._data_obj[D]!==undefined){return z._data_obj[D]}else{if(z._data[D]!==null&&o[z._data[D]]){z._data_obj[D]=o[z._data[D]];return z._data_obj[D]}else{throw"Property '"+D+"' with id: "+z._data[D]+" not fetched, either prefetch it or fetch it manually."}}})}())}}for(var y in w.hasMany){if(w.hasMany.hasOwnProperty(y)){(function(){var D=y;if(w.hasMany[D].manyToMany){z.__defineSetter__(D,function(E){throw"Not yet supported."});z.__defineGetter__(D,function(){if(this._data[D]){return z._data[D]}else{var E=w.hasMany[D].type.meta;var F=new q(E.name);F.initManyToMany(z,D);F._additionalJoinSqls.push("LEFT JOIN `"+w.hasMany[D].tableName+"` AS mtm ON mtm.`"+E.name+"_"+w.hasMany[D].inverseProperty+"` = `"+E.name+"`.`id` ");F._additionalWhereSqls.push("mtm.`"+w.name+"_"+D+"` = '"+z.id+"'");z._data[D]=F;return F}})}else{z.__defineSetter__(D,function(E){throw"Not yet supported."});z.__defineGetter__(D,function(){if(this._data[D]){return z._data[D]}else{var E=new m(w.hasMany[D].type.meta.name).filter(w.hasMany[D].inverseProperty,"=",z);z._data[D]=E;return E}})}}())}}for(var A in C){if(C.hasOwnProperty(A)){z[A]=C[A]}}}x.prototype=new l();x.meta=w;x.prototype.equals=function(y){return this.id==y.id};x.prototype.fetch=function(z,y,B){var A=this;if(!z){persistence.transaction(function(C){A.fetch(C,y,B)});return}if(!this._data[y]){if(B){B(null)}}else{if(this._data_obj[y]){if(B){B(this._data_obj[y])}}else{w.hasOne[y].type.load(z,this._data[y],function(C){A._data_obj[y]=C;if(B){B(C)}})}}};x.all=function(){if(!this.allCollection){this.allCollection=new k(v)}return this.allCollection};x.load=function(y,A,z){if(!y){persistence.transaction(function(B){x.load(B,A,z)});return}if(!A){z(null)}y.executeSql("SELECT * FROM `"+v+"` WHERE id = ?",[A],function(B){if(B.length==0){z(null)}z(persistence.rowToEntity(v,B[0]))})};x.hasMany=function(A,C,y){var B=C.meta;if(B.hasMany[y]){var z=w.name+"_"+A+"_"+B.name;var D=B.name+"_"+y+"_"+w.name;if(z>D){z=D}w.hasMany[A]={type:C,inverseProperty:y,manyToMany:true,tableName:z};B.hasMany[y]={type:x,inverseProperty:A,manyToMany:true,tableName:z};delete w.hasOne[A]}else{w.hasMany[A]={type:C,inverseProperty:y};B.hasOne[y]={type:x,inverseProperty:A}}};x.hasOne=function(z,y){w.hasOne[z]={type:y}};s[v]=x;return x}persistence.dump=function(w,A,B){if(!A){A=[];for(var z in s){if(s.hasOwnProperty(z)){A.push(s[z])}}}var x=0;var v={};for(var y=0;y<A.length;y++){(function(){var C=A[y];C.all().list(w,function(D){v[C.meta.name]=D.map(function(E){return E._data});x++;if(x===A.length){B(v)}})}())}};function r(x,y,D){var E=b[x._type];var z=[];var C=[];var B=[];var A=[];for(var w in x._dirtyProperties){if(x._dirtyProperties.hasOwnProperty(w)){z.push("`"+w+"`");C.push(persistence.entityValToDbVal(x[w],E.fields[w]));B.push("?");A.push("`"+w+"` = ?")}}var v=[];for(var w in E.hasMany){if(E.hasMany.hasOwnProperty(w)){v=v.concat(x[w].persistQueries())}}h(y,v,function(){if(z.length===0){if(D){D()}return}x._dirtyProperties={};if(x._new){z.push("id");C.push(x.id);B.push("?");var F="INSERT INTO `"+x._type+"` ("+z.join(", ")+") VALUES ("+B.join(", ")+")";x._new=false;y.executeSql(F,C,D)}else{var F="UPDATE `"+x._type+"` SET "+A.join(",")+" WHERE id = '"+x.id+"'";y.executeSql(F,C,D)}})}function u(A,w,B){var y=[["DELETE FROM `"+A._type+"` WHERE id = '"+A.id+"'",null]];var z=persistence.getMeta(A._type);for(var v in z.hasMany){if(z.hasMany.hasOwnProperty(v)&&z.hasMany[v].manyToMany){var x=z.hasMany[v].tableName;y.push(["DELETE FROM `"+x+"` WHERE `"+z.name+"_"+v+"` = '"+A.id+"'",null])}}h(w,y,B)}function h(v,w,A){var z=[];for(var y=3;y<arguments.length;y++){z.push(arguments[y])}function x(){var B=w.pop();v.executeSql(B[0],B[1],function(){if(w.length>0){x()}else{if(A){A.apply(this,z)}}},function(C,D){console.log(D)})}if(w.length>0){x()}else{if(A){A.apply(this,z)}}}function e(){var y=[];var v="0123456789ABCDEF";for(var w=0;w<32;w++){y[w]=v.substr(Math.floor(Math.random()*16),1)}y[12]="4";y[16]=v.substr((y[16]&3)|8,1);var x=y.join("");return x}function p(v){switch(v){case"TEXT":return"";case"INT":return 0;case"BOOL":return false;default:return null}}function l(){this.subscribers={}}l.prototype.addEventListener=function(w,x){if(typeof w=="object"){var y=w;for(var v=0;v<y.length;v++){var w=y[v];if(!this.subscribers[w]){this.subscribers[w]=[]}this.subscribers[w].push(x)}}else{if(!this.subscribers[w]){this.subscribers[w]=[]}this.subscribers[w].push(x)}};l.prototype.removeEventListener=function(w,x){var y=this.subscribers[w];for(var v=0;v<y.length;v++){if(y[v]==x){this.subscribers[w].splice(v,1);return true}}return false};l.prototype.triggerEvent=function(w){if(!this.subscribers[w]){return}for(var v in this.subscribers[w]){if(this.subscribers[w].hasOwnProperty(v)){this.subscribers[w][v].apply(null,arguments)}}};function c(){this.sql=function(w,v){return"1=1"};this.match=function(v){return true};this.makeFit=function(v){};this.makeNotFit=function(v){}}function d(w,v){this.sql=function(y,x){return"("+w.sql(y,x)+" AND "+v.sql(y,x)+")"};this.match=function(x){return w.match(x)&&v.match(x)};this.makeFit=function(x){w.makeFit(x);v.makeFit(x)};this.makeNotFit=function(x){w.makeNotFit(x);v.makeNotFit(x)}}function n(x,v,w){this.sql=function(z,y){if(v==="="&&w===null){return"`"+z+x+"` IS NULL"}else{if(v==="!="&&w===null){return"`"+z+x+"` IS NOT NULL"}else{if(w===true||w===false){w=w?1:0}y.push(persistence.entityValToDbVal(w));return"`"+z+x+"` "+v+" ?"}}};this.match=function(y){switch(v){case"=":return y[x]===w;break;case"!=":return y[x]!==w;break;case"<":return y[x]<w;break;case"<=":return y[x]<=w;break;case">":return y[x]>w;break;case">=":return y[x]>=w;break}};this.makeFit=function(y){if(v==="="){y[x]=w}else{throw"Sorry, can't perform makeFit for other filters than ="}};this.makeNotFit=function(y){if(v==="="){y[x]=null}else{throw"Sorry, can't perform makeNotFit for other filters than ="}}}function a(){}a.prototype=new l();a.prototype.persistQueries=function(){return[]};a.prototype.init=function(v,w){this._filter=new c();this._orderColumns=[];this._prefetchFields=[];this._additionalJoinSqls=[];this._additionalWhereSqls=[];this._entityName=v;this._constructor=w;this._limit=-1;this._skip=0;this.subscribers={}};a.prototype.clone=function(){var v=new (this._constructor)(this._entityName);v._filter=this._filter;v._prefetchFields=this._prefetchFields.slice(0);v._orderColumns=this._orderColumns.slice(0);v._additionalJoinSqls=this._additionalJoinSqls.slice(0);v._additionalWhereSqls=this._additionalWhereSqls.slice(0);v._limit=this._limit;v._skip=this._skip;v.subscribers=this.subscribers;return v};a.prototype.filter=function(x,v,w){var y=this.clone();y._filter=new d(this._filter,new n(x,v,w));return y};a.prototype.order=function(w,v){v=v===undefined?true:v;var x=this.clone();x._orderColumns.push([w,v]);return x};a.prototype.limit=function(w){var v=this.clone();v._limit=w;return v};a.prototype.skip=function(w){var v=this.clone();v._skip=w;return v};a.prototype.prefetch=function(v){var w=this.clone();w._prefetchFields.push(v);return w};a.prototype.add=function(v){if(!v.id||!v._type){throw"Cannot add object of non-entity type onto collection."}persistence.add(v);this._filter.makeFit(v);this.triggerEvent("add",this,v);this.triggerEvent("change",this,v)};a.prototype.remove=function(v){if(!v.id||!v._type){throw"Cannot remove object of non-entity type from collection."}this._filter.makeNotFit(v);this.triggerEvent("remove",this,v);this.triggerEvent("change",this,v)};function m(v){this.init(v,m)}m.prototype=new a();m.prototype.each=function(v,w){if(v&&!v.executeSql){w=v;v=null}this.list(v,function(y){for(var x=0;x<y.length;x++){w(y[x])}})};m.prototype.one=function(v,w){if(v&&!v.executeSql){w=v;v=null}this.limit(1).list(v,function(x){if(x.length===0){w(null)}else{w(x[0])}})};m.prototype.list=function(B,I){var C=this;if(!B){persistence.transaction(function(L){C.list(L,I)});return}var F=this._entityName;var J=persistence.getMeta(F);function y(O,P,M){var L=["`"+P+"`.id AS "+M+"id"];for(var N in O.fields){if(O.fields.hasOwnProperty(N)){L.push("`"+P+"`.`"+N+"` AS `"+M+N+"`")}}for(var N in O.hasOne){if(O.hasOne.hasOwnProperty(N)){L.push("`"+P+"`.`"+N+"` AS `"+M+N+"`")}}return L}var D=[];var z=F+"_";var x=y(J,J.name,z);var G=this._additionalJoinSqls.join(" ");for(var A=0;A<this._prefetchFields.length;A++){var w=this._prefetchFields[A];var v=J.hasOne[w].type.meta;var H=v.name+"_"+w+"_tbl";x=x.concat(y(v,H,w+"_"));G+="LEFT JOIN `"+v.name+"` AS `"+H+"` ON `"+H+"`.`id` = `"+z+w+"` "}var E="WHERE "+[this._filter.sql(z,D)].concat(this._additionalWhereSqls).join(" AND ");var K="SELECT "+x.join(", ")+" FROM `"+F+"` "+G+" "+E;if(this._orderColumns.length>0){K+=" ORDER BY "+this._orderColumns.map(function(L){return"`"+z+L[0]+"` "+(L[1]?"ASC":"DESC")}).join(", ")}if(this._limit>=0){K+=" LIMIT "+this._limit}if(this._skip>0){K+=" OFFSET "+this._skip}persistence.flush(B,function(){B.executeSql(K,D,function(R){var N=[];for(var M=0;M<R.length;M++){var Q=R[M];var S=persistence.rowToEntity(F,Q,z);for(var L=0;L<C._prefetchFields.length;L++){var P=C._prefetchFields[L];var O=J.hasOne[P].type.meta;S[P]=persistence.rowToEntity(O.name,Q,P+"_")}N.push(S);persistence.add(S)}I(N);C.triggerEvent("list",C,N)})})};function k(v){this.init(v,k)}k.prototype=new m();k.prototype.add=function(v){persistence.add(v);this.triggerEvent("add",this,v);this.triggerEvent("change",this,v)};k.prototype.remove=function(v){persistence.remove(v);this.triggerEvent("remove",this,v);this.triggerEvent("change",this,v)};function q(v){this.init(v,q);this._localAdded=[];this._localRemoved=[]}q.prototype=new m();q.prototype.initManyToMany=function(w,v){this._obj=w;this._coll=v};q.prototype.add=function(v){if(!this._localAdded.contains(v)){persistence.add(v);this._localAdded.push(v)}};q.prototype.clone=function(){var v=m.prototype.clone.call(this);v._localAdded=this._localAdded;v._localRemoved=this._localRemoved;v._obj=this._obj;v._coll=this._coll;return v};q.prototype.remove=function(v){if(this._localAdded.contains(v)){this._localAdded.remove(v)}else{if(!this._localRemoved.contains(v)){this._localRemoved.push(v)}}};q.prototype.persistQueries=function(){var v=[];var y=persistence.getMeta(this._obj._type);var x=y.hasMany[this._coll].type.meta;for(var w=0;w<this._localAdded.length;w++){v.push(["INSERT INTO "+y.hasMany[this._coll].tableName+" (`"+y.name+"_"+this._coll+"`, `"+x.name+"_"+y.hasMany[this._coll].inverseProperty+"`) VALUES (?, ?)",[this._obj.id,this._localAdded[w].id]])}this._localAdded=[];for(var w=0;w<this._localRemoved.length;w++){v.push(["DELETE FROM  "+y.hasMany[this._coll].tableName+" WHERE `"+y.name+"_"+this._coll+"` = ? AND `"+x.name+"_"+y.hasMany[this._coll].inverseProperty+"` = ?",[this._obj.id,this._localRemoved[w].id]])}this._localRemoved=[];return v};function t(x,v){this.init(x,t);this._data={};if(v){for(var w=0;w<v.length;w++){this._data[v[w].id]=v[w]}}}t.prototype=new a();t.prototype.clone=function(){var v=m.prototype.clone.call(this);v._data=this._data;return v};t.prototype.add=function(v){this._data[v.id]=v;this.triggerEvent("add",this,v);this.triggerEvent("change",this,v)};t.prototype.remove=function(v){if(this._data[v.id]){delete this._data[v.id];this.triggerEvent("remove",this,v);this.triggerEvent("change",this,v)}};t.prototype.list=function(A){if(!A||A.executeSql){A=arguments[1]}var z=[];var x=this;for(var y in this._data){if(this._data.hasOwnProperty(y)){z.push(this._data[y])}}var w=[];for(var v=0;v<z.length;v++){if(this._filter.match(z[v])){w.push(z[v])}}w.sort(function(C,B){for(var E=0;E<x._orderColumns.length;E++){var D=x._orderColumns[E][0];var F=x._orderColumns[E][1];console.log(x._orderColumns[E]);console.log(C);console.log(B);if(C[D]<B[D]){console.log(C.name+" < "+B.name);return F?1:-1}else{if(C[D]>B[D]){console.log(C.name+" > "+B.name);return F?-1:1}}}return 0});if(A){A(w)}else{return w}};persistence.LocalQueryCollection=t;persistence.Observable=l;persistence.db=persistence.db||{};persistence.db.implementation="unsupported";persistence.db.conn=null;persistence.db.log=true;if(window&&window.google&&google.gears){persistence.db.implementation="gears"}else{if(window&&window.openDatabase){persistence.db.implementation="html5"}else{if(openDatabaseSync){persistence.db.implementation="html5-sync"}}}persistence.db.html5={};persistence.db.html5.connect=function(A,z,w,v){var y={};var x=openDatabase(A,v,z,w);y.transaction=function(B){return x.transaction(function(C){return B(persistence.db.html5.transaction(C))})};return y};persistence.db.html5.transaction=function(v){var w={};w.executeSql=function(z,y,x,A){if(persistence.db.log){console.log(z)}v.executeSql(z,y,function(C,B){if(x){var E=[];for(var D=0;D<B.rows.length;D++){E.push(B.rows.item(D))}x(E)}},A)};return w};persistence.db.html5Sync={};persistence.db.html5Sync.connect=function(A,z,w,v){var y={};var x=openDatabaseSync(A,v,z,w);y.transaction=function(B){return x.transaction(function(C){return B(persistence.db.html5Sync.transaction(C))})};return y};persistence.db.html5Sync.transaction=function(v){var w={};w.executeSql=function(C,z,y,D){if(z==null){z=[]}if(persistence.db.log){console.log(C+" -> "+z)}var x=v.executeSql(C,z);if(x){if(y){var B=[];for(var A=0;A<x.rows.length;A++){B.push(x.rows.item(A))}y(B)}}};return w};persistence.db.gears={};persistence.db.gears.connect=function(x){var w={};var v=google.gears.factory.create("beta.database");v.open(x);w.transaction=function(y){y(persistence.db.gears.transaction(v))};return w};persistence.db.gears.transaction=function(w){var v={};v.executeSql=function(D,A,y,E){if(persistence.db.log){console.log(D)}var z=w.execute(D,A);if(y){var C=[];while(z.isValidRow()){var x={};for(var B=0;B<z.fieldCount();B++){x[z.fieldName(B)]=z.field(B)}C.push(x);z.next()}y(C)}};return v};persistence.db.connect=function(y,x,w,v){v=v||"1.0";if(persistence.db.implementation=="html5"){return persistence.db.html5.connect(y,x,w,v)}else{if(persistence.db.implementation=="html5-sync"){return persistence.db.html5Sync.connect(y,x,w,v)}else{if(persistence.db.implementation=="gears"){return persistence.db.gears.connect(y)}}}}}());Number.prototype.equals=function(a){return this==a};Boolean.prototype.equals=function(a){return this==a};String.prototype.equals=function(a){return this==a};Array.prototype.equals=function(a){if(this.length!==a.length){return false}for(var b=0;b<this.length;b++){if(!this[b].equals(a[b])){return false}}return true};Array.prototype.contains=function(c){var a=this.length;for(var b=0;b<a;b++){if(this[b].equals(c)){return true}}return false};Array.prototype.remove=function(c){var a=this.length;for(var b=0;b<a;b++){if(this[b].equals(c)){this.splice(b,1)}}};
